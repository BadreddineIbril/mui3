import type { DemoDefinition } from "@/types/demo";
import ChipsDemo from "./chips-demo";
import ChipsVariant from "./chips-variant";
import ChipsLayout from "./chips-layout";
import ChipsAssist from "./chips-assist";
import ChipsSuggestion from "./chips-suggestion";
import ChipsFilter from "./chips-filter";
import ChipsInput from "./chips-input";
import ChipsDisabled from "./chips-disabled";

const CHIPS_DEMO: DemoDefinition = {
  id: "chips",
  label: "Chips",
  description:
    "Chips help people enter information, make selections, filter content, or trigger actions",
  content: [
    {
      id: "overview",
      preview: ChipsDemo,
      code: 'import { useState } from "react";\nimport { ChipItem, Chips } from "@/components/ui/chips";\n \nexport function ChipsDemo() {\n    const [isSelected, setSelected] = useState<boolean>(false);\n    const [isRemoved, setRemoved] = useState<boolean>(false);\n \n    return (\n        <div className="demo">\n            <Chips>\n                <ChipItem variant="assist">Assist</ChipItem>\n                <ChipItem\n                    variant="filter"\n                    selected={isSelected}\n                    onSelect={() => setSelected(!isSelected)}>\n                    Filter\n                </ChipItem>\n                {!isRemoved && (\n                    <ChipItem variant="input" removable onRemove={() => setRemoved(true)}>\n                        Input\n                    </ChipItem>\n                )}\n                <ChipItem variant="suggestion">Suggestion</ChipItem>\n            </Chips>\n        </div>\n    );\n};',
    },
    {
      id: "installation",
      label: "Installation",
      code: {
        tsx: 'import "./style.css";\nimport type { ComponentProps } from "react";\nimport Icon from "@/components/misc/icon";\n \ntype ChipsProps = ComponentProps<"div"> & {\n    layout?: "wrap" | "scroll";\n    variant?: "outlined" | "elevated";\n};\n \ntype BaseProps = ComponentProps<"button"> & {\n    variant?: "assist" | "suggestion";\n};\n \ntype FilterProps = ComponentProps<"button"> & {\n    variant: "filter";\n    selected: boolean;\n    onSelect: () => void;\n};\n \ntype InputProps = ComponentProps<"button"> & {\n    variant: "input";\n    removable: boolean;\n    onRemove: () => void;\n};\n \ntype ChipItemProps = BaseProps | FilterProps | InputProps;\n \nconst Chips = ({\n    variant = "outlined",\n    layout = "wrap",\n    ...props\n}: ChipsProps) => {\n    return <div mui-chips={variant} data-layout={layout} {...props} />;\n};\n \nconst ChipItem = ({\n    variant = "assist",\n    selected,\n    removable,\n    children,\n    onClick,\n    onRemove,\n    onSelect,\n    ...props\n}: ChipItemProps) => {\n    return (\n        <button\n            mui-chip-item={variant}\n            aria-pressed={selected}\n            {...props}\n            onClick={(e) => {\n                onClick?.(e);\n                onSelect?.(e);\n            }}>\n            {selected && <Icon data-select name="check" />}\n            {children}\n            {removable && <Icon data-close name="close" onClick={onRemove} />}\n        </button>\n    );\n};\n \nexport { Chips, ChipItem };',
        css: '[mui-chips] {\n    display: flex;\n    gap: var(--spacing-8);\n \n    &[data-layout="wrap"] {\n        flex-wrap: wrap;\n    }\n \n    &[data-layout="scroll"] {\n        overflow-x: scroll;\n    }\n \n    [mui-chip-item] {\n        height: 32px;\n        flex-shrink: 0;\n        cursor: pointer;\n        width: max-content;\n        position: relative;\n        padding-inline: var(--spacing-16);\n        display: flex;\n        align-items: center;\n        gap: var(--spacing-8);\n        color: var(--color-on-surface-variant);\n        background-color: transparent;\n        font: var(--font-label-lg);\n        border-radius: var(--radius-sm);\n        border: 1px solid transparent;\n        outline-offset: 1px;\n        outline: 10px solid transparent;\n        transition: var(--transition-standard-fast-effects);\n \n        &::before {\n            inset: 0;\n            opacity: 0;\n            position: absolute;\n            border-radius: var(--radius-sm);\n            outline: 1px solid color-mix(in srgb, currentColor 12%, transparent);\n            background-color: color-mix(in srgb, currentColor 12%, transparent);\n        }\n \n        &[aria-pressed="true"] {\n            border-color: transparent !important;\n            color: var(--color-on-secondary-container);\n            background-color: var(--color-secondary-container);\n \n            &:hover {\n                background-color: color-mix(\n                    in srgb,\n                    currentColor 8%,\n                    var(--color-secondary-container)\n                );\n            }\n        }\n \n        &:has([data-icon][data-close]) {\n            padding-inline-end: var(--spacing-8);\n        }\n \n        &:has([data-icon]:not([data-close])) {\n            padding-inline-start: var(--spacing-8);\n        }\n \n        & > [data-icon][data-close] {\n            z-index: 2;\n            width: 24px;\n            height: 24px;\n            font-size: 18px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            border-radius: var(--radius-circled);\n \n            &:hover {\n                background-color: color-mix(in srgb, currentColor 8%, transparent);\n            }\n        }\n \n        & > [data-icon]:not([data-close]) {\n            order: -1;\n            font-size: 18px;\n            position: relative;\n            color: var(--color-primary);\n \n            &:nth-child(n + 2) {\n                display: none;\n            }\n        }\n \n        &:hover:not(:has(> [data-close]:hover), [aria-pressed="true"]) {\n            background-color: color-mix(in srgb, currentColor 8%, transparent);\n        }\n \n        &:active::before {\n            content: "";\n            animation: ripple var(--transition-standard-default-effects) forwards;\n        }\n \n        &:focus-visible {\n            animation: focus var(--transition-standard-slow-spatial) forwards;\n        }\n \n        &:disabled {\n            pointer-events: none;\n            color: color-mix(in srgb, var(--color-on-surface) 38%, transparent);\n        }\n    }\n \n    &[mui-chips="outlined"] {\n        [mui-chip-item] {\n            border-color: var(--color-outline-variant);\n \n            &:disabled {\n                background-color: transparent;\n                border-color: color-mix(\n                    in srgb,\n                    var(--color-on-surface) 12%,\n                    transparent\n                );\n            }\n        }\n    }\n \n    &[mui-chips="elevated"] {\n        [mui-chip-item] {\n            box-shadow: var(--shadow-2);\n \n            &:hover:not(:has(> [data-close]:hover), [aria-pressed="true"]) {\n                box-shadow: var(--shadow-3);\n            }\n \n            &:disabled {\n                box-shadow: none;\n                background-color: color-mix(\n                    in srgb,\n                    var(--color-on-surface) 12%,\n                    transparent\n                );\n            }\n        }\n    }\n}',
      },
    },
    {
      id: "variant",
      label: "Variant",
      preview: ChipsVariant,
      code: 'import { useState } from "react";\nimport { ChipItem, Chips } from "@/components/ui/chips";\n \nexport function ChipsVariant() {\n    const variants: Array<"elevated" | "outlined"> = ["elevated", "outlined"];\n \n    const [isSelected, setSelected] = useState<boolean>(false);\n    const [isRemoved, setRemoved] = useState<boolean>(false);\n \n    return (\n        <div className="demo">\n            {variants.map((variant) => (\n                <Chips key={variant} variant={variant}>\n                    <ChipItem variant="assist">Assist</ChipItem>\n                    <ChipItem\n                        variant="filter"\n                        selected={isSelected}\n                        onSelect={() => setSelected(!isSelected)}>\n                        Filter\n                    </ChipItem>\n                    {!isRemoved && (\n                        <ChipItem\n                            variant="input"\n                            removable\n                            onRemove={() => setRemoved(true)}>\n                            Input\n                        </ChipItem>\n                    )}\n                    <ChipItem variant="suggestion">Suggestion</ChipItem>\n                </Chips>\n            ))}\n        </div>\n    );\n};',
    },
    {
      id: "layout",
      label: "Layout",
      preview: ChipsLayout,
      code: 'import Icon from "@/components/misc/icon";\nimport { ChipItem, Chips } from "@/components/ui/chips";\n \nexport function ChipsLayout() {\n    const layouts: Array<"wrap" | "scroll"> = ["wrap", "scroll"];\n \n    return (\n        <div className="demo">\n            {layouts.map((layout) => (\n                <Chips key={layout} layout={layout}>\n                    <ChipItem variant="assist">Assist 1</ChipItem>\n                    <ChipItem variant="assist">\n                        <Icon name="map" /> Assist 2\n                    </ChipItem>\n                    <ChipItem variant="assist">Assist 3</ChipItem>\n                    <ChipItem variant="assist">Assist 4</ChipItem>\n                </Chips>\n            ))}\n        </div>\n    );\n};',
    },
    {
      id: "assist",
      label: "Assist",
      preview: ChipsAssist,
      code: 'import Icon from "@/components/misc/icon";\nimport { ChipItem, Chips } from "@/components/ui/chips";\n \nexport function ChipsAssist() {\n    return (\n        <div className="demo">\n            <Chips>\n                <ChipItem variant="assist">Assist 1</ChipItem>\n                <ChipItem variant="assist">\n                    <Icon name="map" /> Assist 2\n                </ChipItem>\n                <ChipItem variant="assist">Assist 3</ChipItem>\n                <ChipItem variant="assist">Assist 4</ChipItem>\n            </Chips>\n            <Chips variant="elevated">\n                <ChipItem variant="assist">Assist 1</ChipItem>\n                <ChipItem variant="assist">\n                    <Icon name="map" /> Assist 2\n                </ChipItem>\n                <ChipItem variant="assist">Assist 3</ChipItem>\n                <ChipItem variant="assist">Assist 4</ChipItem>\n            </Chips>\n        </div>\n    );\n};',
    },
    {
      id: "suggestion",
      label: "Suggestion",
      preview: ChipsSuggestion,
      code: 'import Icon from "@/components/misc/icon";\nimport { ChipItem, Chips } from "@/components/ui/chips";\n \nexport function ChipsSuggestion() {\n    return (\n        <div className="demo">\n            <Chips>\n                <ChipItem variant="suggestion">Suggestion 1</ChipItem>\n                <ChipItem variant="suggestion">\n                    <Icon name="map" /> Suggestion 2\n                </ChipItem>\n                <ChipItem variant="suggestion">Suggestion 3</ChipItem>\n                <ChipItem variant="suggestion">Suggestion 4</ChipItem>\n            </Chips>\n            <Chips variant="elevated">\n                <ChipItem variant="suggestion">Suggestion 1</ChipItem>\n                <ChipItem variant="suggestion">\n                    <Icon name="map" /> Suggestion 2\n                </ChipItem>\n                <ChipItem variant="suggestion">Suggestion 3</ChipItem>\n                <ChipItem variant="suggestion">Suggestion 4</ChipItem>\n            </Chips>\n        </div>\n    );\n};',
    },
    {
      id: "input",
      label: "Input",
      preview: ChipsInput,
      code: 'import { useState } from "react";\nimport { ChipItem, Chips } from "@/components/ui/chips";\n \nexport function ChipsInput() {\n    const [options, setOptions] = useState([\n        { label: "Orange", removed: false },\n        { label: "Banana", removed: false },\n        { label: "Kiwi", removed: false },\n        { label: "Watermelon", removed: false },\n        { label: "Strawberry", removed: false },\n        { label: "Apple", removed: false },\n    ]);\n \n    return (\n        <div className="demo">\n            <Chips>\n                {options.map(\n                    (opt, index) =>\n                        !opt.removed && (\n                            <ChipItem\n                                key={index}\n                                variant="input"\n                                removable\n                                onRemove={() =>\n                                    setOptions((prev) =>\n                                        prev.map((item, i) =>\n                                            i === index ? { ...item, removed: true } : item\n                                        )\n                                    )\n                                }>\n                                {opt.label}\n                            </ChipItem>\n                        )\n                )}\n            </Chips>\n        </div>\n    );\n};',
    },
    {
      id: "filter",
      label: "Filter",
      preview: ChipsFilter,
      code: 'import { useState } from "react";\nimport { ChipItem, Chips } from "@/components/ui/chips";\n \nexport function ChipsFilter() {\n    const [options, setOptions] = useState([\n        { label: "Washer / Dryer", selected: true },\n        { label: "Ramp access", selected: false },\n        { label: "Garden", selected: false },\n        { label: "Cats OK", selected: false },\n        { label: "Dogs OK", selected: false },\n        { label: "Smoke-free", selected: false },\n    ]);\n \n    return (\n        <div className="demo">\n            <Chips>\n                {options.map((opt, index) => (\n                    <ChipItem\n                        key={index}\n                        variant="filter"\n                        selected={opt.selected}\n                        onSelect={() =>\n                            setOptions((prev) =>\n                                prev.map((item, i) =>\n                                    i === index ? { ...item, selected: !opt.selected } : item\n                                )\n                            )\n                        }>\n                        {opt.label}\n                    </ChipItem>\n                ))}\n            </Chips>\n        </div>\n    );\n};',
    },
    {
      id: "disabled",
      label: "Disabled",
      preview: ChipsDisabled,
      code: 'import { useState } from "react";\nimport { ChipItem, Chips } from "@/components/ui/chips";\n \nexport function ChipsDisabled() {\n    const [isSelected, setSelected] = useState<boolean>(false);\n    const [isRemoved, setRemoved] = useState<boolean>(false);\n \n    return (\n        <div className="demo">\n            <Chips>\n                <ChipItem variant="assist" disabled>\n                    Assist\n                </ChipItem>\n                <ChipItem\n                    variant="filter"\n                    selected={isSelected}\n                    onSelect={() => setSelected(!isSelected)}\n                    disabled>\n                    Filter\n                </ChipItem>\n                {!isRemoved && (\n                    <ChipItem\n                        variant="input"\n                        removable\n                        onRemove={() => setRemoved(true)}\n                        disabled>\n                        Input\n                    </ChipItem>\n                )}\n                <ChipItem variant="suggestion" disabled>\n                    Suggestion\n                </ChipItem>\n            </Chips>\n        </div>\n    );\n};',
    },
  ],
};

export default CHIPS_DEMO;
